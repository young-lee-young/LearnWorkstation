# 操作系统


### 命令

* 文件操作命令

3. locate、find、grep
4. tcpdump（抓包）

* 查看CPU信息

```sh
cat /proc/cpuinfo
```

* 查看CPU使用率

```sh
# 按CPU排序:P，按内存排序:M
top
```

* 查看端口

```sh
lsof -i:端口号

netstat -tupln | grep 端口号/进程号
```

* 查看进程

```sh
ps -aux
```

* 杀死进程

```sh
# 9强制杀死进程，15正常杀死
kill -s 9 进程号
```

* 查看内存使用

```sh
free -h
```

* 查看IP地址

```sh
ifconfig
```

* 软链接和硬链接

```sh
# 硬链接和拷贝文件的区别，硬连接是count加1，拷贝是在内存复制一份文件
ln file_1.py file_2.py

# 软链接
ln -s file.py link
```


### 线程和进程

进程是对运行时程序的封装，是系统资源调度和分配的基本单位
线程是进程的子任务，CPU调度和分配的基本单位，实现进程内并发
一个进程包含多个线程，线程依赖进程存在，共享进程内存

* 线程同步方式

互斥量（锁）：通过互斥机制防止多个线程同时访问公共资源（threading.Lock）
信号量：控制同一时刻多个线程访问同一资源的线程数（threading.Semaphore）
事件：通过通知的方式保持多个线程同步（threading.Event）

* 进程间通信方式

Inter-Process Communication：进程间传递信号或者数据（IPC）

1. 管道/匿名管道/有名管道（pipe）
2. 信号（signal）：比如我们ctrl + c产生程序终止信号
3. 消息队列（Message）
4. 共享内存（share memory）
5. 信号量（Semaphore）
6. 套接字（socket）：最常用的方式


### 进程杀不死

1. 进程是僵尸进程
2. 进程处于内核态，处于内核态的进程忽略所有信号处理


### 管道

命令之间的 | 就是管道
将前面命令的输出结果重定向到下一个命令


### awk命令


### epoll

网卡将接收到的数据写入内存


### 内存管理

* 分页

通过页表对应逻辑地址和物理地址

* 分段

