# Docker数据卷


### 基本命令

* 数据拷贝

```bash
# 从 docker 内部拷贝数据到宿主机
docker cp $docker_name:$file_name .
```

* 创建数据卷

```bash
# 会创建一个本地卷，挂载目录在 /var/lib/docker/volumes 下
docker volume create $volume_name

# 指定 driver 和 大小
docker volume create --name $volume_name --driver $driver_name --opt=o=size=20
```

* 列举数据卷

```bash
# 列举数据卷
docker volume ls
```

* 查看数据卷

```bash
docker volume inspect $volume_name
```

结果

```json
[
    {
        "CreatedAt": "2024-03-28T06:57:01Z",
        "Driver": "local",
        "Labels": null,
        "Mountpoint": "/var/lib/docker/volumes/lee/_data",
        "Name": "lee",
        "Options": null,
        "Scope": "local"
    }
]
```

* 清理数据卷

```bash
docker volume prune
```

* 删除数据卷

```bash
docker volume rm $volume_name
```

* 使用数据卷

```bash
# 启动容器并挂载数据卷，使用 --mount
docker run -d --name $container_name --mount source=$volume_name,target=$container_path $image
```
