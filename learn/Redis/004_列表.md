# 列表


### 实现

底层实现：双向链表 和 压缩列表


* 双向链表结构体

```c
// 节点结构体
typedef struct listNode {
    struct listNode *prev; // 前置节点
    struct listNode *next; // 后置接点
    void *value;           // 节点数值
} listNode;
```

```c
// 列表结构体
typedef struct list {
    listNode *head;     // 链表头
    listNode *tail;     // 链表尾
    unsigned long len;  // 链表长度
    void *(*dup) (void *ptr);
    void (*free) (void *ptr);
    void (*match) (void *prt, void *key);
}
```


* 压缩列表结构体


### 常用命令

```bash
# 右侧入值
RPUSH key value

# 左侧出值
LPOP key

# 左侧取值，如果没有消息，阻塞直到消息到来
BLPOP key
```
