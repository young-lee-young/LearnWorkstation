# SVN高级应用


### 钩子

在版本库下面有hooks文件夹,下面有钩子文件

```sh
# 启用钩子
cp -a 钩子文件名 新文件名             # 复制钩子文件
chmod +x 新文件名                   # 添加执行权限
编辑新文件
重启svn服务
```


### 版本库精简与丢弃

```sh
# 停止svn服务
killall svnserve

# 将想要保留的版本保存到备份文件
svnadmin dump 版本库路径 -r 版本号:版本号 > 备份路径
# 创建新的版本库
svnadmin create 新版本库
# 将备份文件中的数据导入
svnadmin load 新版本库路径 < 备份路径

# 将就的版本库配置文件复制到新的版本库配置文件路径中

# 删除就的版本库
rm -rvf 旧版本库路径

# 启动版本库
svnserve -d -r 新版本库路径
```


### 版本库迁移与重定向

```sh
svn switch --relocate 旧版本库url 新版本库url
```
