# 基础

### 安装

```bash
go install github.com/go-delve/delve/cmd/dlv@v1.7.3
```


### 本地调试

* 启动

```bash
dlv debug $module_name

# -- 后面的为被调试的库所接收的参数
# dlv debug demo -- create --name=lee
```

* 帮助

```bash
(dlv) help 
```

* 打断点

```bash
(dlv) break cmd/create.go:19
# Breakpoint 1 set at 0x1a1a80 for demo/cmd.init.0() ./cmd/create.go:19

# 继续执行到下一个断点处
(dlv) continue

# 执行下一行
(dlv) next

# 进入到调用的函数中
(dlv) step

# 跳出调用函数，回到上一层函数
(dlv) stepout
```

* 退出

```bash
(dlv) quit
```


### 远程调试

* 启动 dlv 并监听

```bash
dlv debug --headless --listen=:$PORT --api-version=2 --accept-multiclient
```

* 连接

```bash
dlv connect $IP:$PORT
```
