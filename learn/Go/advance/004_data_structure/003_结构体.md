### 空结构体

* 不包含在其他结构体中

大小为 0，有地址，所有空结构体地址相同（不被包含在其他结构体中时）

```go
package main

import (
	"fmt"
	"unsafe"
)

type K struct{}

func main() {
	a := K{}
	fmt.Println(unsafe.Sizeof(a))   // 0
	fmt.Printf("%p\n", &a)          // 0x118e370
	
	b := K{}
	fmt.Printf("%p\n", &b)          // 0x118e370
}
```


* 包含在其他结构体中

```go
package main

import "fmt"

type K struct{}

type F struct {
	num1 K
	num2 int32
}

func main() {
	// 包含在其他结构体中
	a := F{}
	fmt.Printf("%p\n", &a.num1)

	// 不包含在其他结构体中
	b := K{}
	fmt.Printf("%p\n", &b)
}
```


* 空结构体作用

节约内存


### zerobase

```go
// runtime/malloc.go
package runtime

// base address for all 0-byte allocations
var zerobase uintptr
```


### 用处

* HashSet

```go
package main

func main() {
	hashset := map[string]struct{}{}
    hashset["1"] = struct{}{}
    hashset["2"] = struct{}{}
}
```


* 空 Channel：用来传递信号

```go
package main

type notify struct {}

func main() {
    ch := make(chan notify)
    ch <- notify{}
}
```
