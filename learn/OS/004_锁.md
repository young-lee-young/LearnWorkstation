### 普通锁

* 锁底层实现

    单核：禁止中断

    多核：

    ​		硬件：test and set指令，将读取内存、判断、设置值作为一个原子操作

    ​		通过硬件锁内存总线实现

    

* 重入锁和不可重入锁

    重入锁：同一线程可以多次加锁

    不可重入锁：同一线程不能多次加锁，多次加锁会造成死锁


### 互斥锁和自旋锁区别

互斥锁：当获取锁失败时，会被挂起，不占用CPU，当锁释放后，线程被唤醒，获得锁，继续执行。其中涉及到上下文切换、CPU抢占、信号发送等

自旋锁：获取锁失败后，一直重试，直到获得锁，过程中一直占用CPU
