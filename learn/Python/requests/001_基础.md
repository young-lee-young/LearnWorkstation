# requests库基础


### 方法

1. GET
2. POST
3. PUT
4. DELETE
5. PATCH
6. 

### 参数

* URL参数

```python
# 参数以?key1=value1&key2=value2形式存在
import requests

url = '127.0.0.1:8000'
param = {
    'key1': 'value1',
    'key2': 'value2'
}

requests.get(url=url, params=param)
```

* 表单参数提交

```python
# Content-Type: application/x-www-form-urlencoded
import requests

url = '127.0.0.1:8000'
param = {
    'key1': 'value1',
    'key2': 'value2'
}

requests.post(url=url, data=param)
```

* Json表单提交

```python
# Content-Type: application/json
import requests

url = '127.0.0.1:8000'
param = {
    'key1': 'value1',
    'key2': 'value2'
}

requests.post(url=url, json=param)
```

### 异常处理

```python
import requests
from requests import exceptions

url = '127.0.0.1:8000'

try:
    response = requests.get(url=url, time_out=0.1)
    response.raise_for_status()
except exceptions.Timeout as e:
    print(e.message)
except exceptions.HTTPError as e:
    print(e.message)
else:
    print(response.text)
    print(response.status_code)
```
