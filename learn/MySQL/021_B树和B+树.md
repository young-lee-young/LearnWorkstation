# B-tree 和 B+tree


### 为什么不使用**平衡二叉查找树**或**红黑树**作为索引

**平衡二叉查找树**和**红黑树**每个节点存储的数据太少


### 多路平衡查找树

1. 多路平衡查找树（每个节点最多m（m >=2）个孩子，称为m阶或者度）
2. 叶节点具有相同的深度
3. 节点中的key从左到右递增


### B树

B树是线性数据结构和树的结合

B树通过多节点大大降低树的高度

* B树 特点

每个节点都存储键和数据


### B+ 树

只有叶子节点存储数据，非叶子节点存储指针，叶子节点包含所有键值

在同层 B+ 树节点之间，为双向链表，在 B+ 树节点之内，数据条目之间为单向链表


### 聚簇索引（Clustered Index）和非聚簇索引

聚簇还是非聚簇指的是 B+树 叶节点存的是指针还是数据记录（聚簇索引存数据，非聚簇索引存指针）


### InnoDB 索引

* 主键索引：聚簇索引，叶子节点既存储主键值也存储数据行

* 非主键索引：也叫辅助索引，非聚簇索引，叶子节点存储主键值（需要回表查询）


### MyISAM 索引

有.myi索引文件、.myd数据文件

* 主键索引：非聚簇索引，叶子节点key存放索引值，value存储数据的指针，指向数据文件

* 非主键索引：同主键索引
