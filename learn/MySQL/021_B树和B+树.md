# B-tree 和 B+tree


### 多路平衡查找树

1. 多路平衡查找树（每个节点最多m（m >=2）个孩子，称为m阶或者度）
2. 叶节点具有相同的深度
3. 节点中的key从左到右递增


### B 树

每个节点都存储键和数据


### B+ 树

只有叶子节点存储数据，非叶子节点存储指针，叶子节点包含所有键值

在同层 B+ 树节点之间，为双向链表，在 B+ 树节点之内，数据条目之间为单向链表


### 聚簇索引和非聚簇索引

聚簇还是非聚簇指的是B+tree叶节点存的是指针还是数据记录（聚簇索引存数据，非聚簇索引存指针）


### InnoDB索引

* 主键索引：聚簇索引，叶子节点既存储主键值也存储数据行

* 非主键索引：也叫辅助索引，非聚簇索引，叶子节点存储主键值（需要回表查询）

回表：非主键索引 key 存储的是索引值，value 存储的是主键索引的指针；所以走非主键索引情况下，查询的数据不在索引列，就需要回表查询主键索引

覆盖索引：二级索引中有需要查询的字段，不需要进行回表操作

```mysql
# 如有索引 (b, c, d)，下面语句使用覆盖索引

SELECT c, d FROM table_name WHERE c > 1;
```


### MyISAM索引

有.myi索引文件、.myd数据文件

* 主键索引：叶子节点key存放索引值，value存储数据的指针，指向数据文件

* 非主键索引：和一级索引相同
