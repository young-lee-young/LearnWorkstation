### 刷脏

* 脏页

更新数据时，只更新了**内存**中的数据页，没有更新磁盘；内存中数据页和磁盘中数据页不一致，称为脏页


* 刷脏

将内存中的数据页保存至磁盘，同时删除与此页相关的 RedoLog，推进 check point


* 刷脏页时机

1. 内存中的脏页太多，内存不足
2. RedoLog 文件写满，需要推进 check point（如果直接推进 check point，数据没刷盘，MySQL 宕机，推进的这些数据就丢失了）
3. 系统空闲，提前刷脏
4. MySQL 关闭前，保存数据


### 刷脏页优化

* 正确告知 InnoDB 服务器的硬盘性能

配置：innodb_io_capacity


* 配置合理的脏页比例上限

配置：innodb_max_dirty_pages_pct


* 控制 "顺便刷脏" 策略

配置：innodb_flush_neighbors
