# 数据库事务


### 四个特性

原子性（Atomicity）：要么都成功，要么都失败（通过 UndoLog 实现，通过 UndoLog 回滚事务的更改）

一致性（Consistency）：是最终目标，由其他三个特性保证

隔离性（Isolation）：允许多个事务同时对数据库进行修改和读写（通过 MVCC 和 锁 实现），分 4种 隔离级别

持久性（Durability）：事务结束后，修改永久，不会丢失（通过 RedoLog 和 BinLog 实现）


* 四个特性关系

[四个特性的关系](032_四个特性关系.png)


### 命令

```mysql
# 查看是否是自动提交，默认是自动提交
SHOW VARIABLES LIKE "%autocommit%";

# 关闭自动提交
SET AUTOCOMMIT = OFF;

# 开始事务
BEGIN;
# 或者
START TRANSACTION;

# 提交
COMMIT;
```
