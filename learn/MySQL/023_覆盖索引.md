# 覆盖索引


### 回表

非主键索引 key 存储的是索引值，value 存储的是主键索引的指针；所以走非主键索引情况下，查询的数据不在索引列，就需要回表查询主键索引


### 覆盖索引

覆盖索引：辅助索引中有需要查询的字段，不需要进行回表操作

* 查询

```mysql
# 如有索引 (b, c, d)，下面语句使用覆盖索引

SELECT c, d FROM table_name WHERE b > 1 AND c > 1;
```

* 分析

```mysql
mysql> EXPLAIN SELECT c, d FROM table_name WHERE b > 1 AND c > 1;

+----+-------------+--------+------------+------+---------------+------+---------+------+-------+----------+-------------+
| id | select_type | table  | partitions | type | possible_keys | key  | key_len | ref  | rows  | filtered | Extra       |
+----+-------------+--------+------------+------+---------------+------+---------+------+-------+----------+-------------+
|  1 | SIMPLE      | t_1    | NULL       | ALL  | NULL          | NULL | NULL    | NULL | 16005 |   100.00 | Using index |
+----+-------------+--------+------------+------+---------------+------+---------+------+-------+----------+-------------+
```

注意⚠️：
结尾的 Extra 为 'Using where' 说明未使用索引，进行全表扫描
结尾的 Extra 为 'Using index' 说明使用了覆盖索引
结尾的 Extra 为 'Using index condition' 说明使用了索引下推
结尾的 Extra 为 'Using index for skip scan' 说明使用了松散索引扫描
