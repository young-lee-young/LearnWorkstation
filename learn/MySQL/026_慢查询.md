# 慢查询


### 慢查询日志

* 临时生效

```mysql
# 查看慢查询是否开启
SHOW VARIABLES LIKE '%slow_query_log%';

# 开启慢查询日志
SET GLOBAL SLOW_QUERY_LOG='ON';

# 查看慢查询时间
SHOW VARIABLES LIKE '%long_query_time%';

# 设置慢查询时间阈值，单位：秒
SET GLOBAL LONG_QUERY_TIME = 3;
```


* 永久生效

```
[mysqld]
slow_query_log=1
slow_query_log_file=$file_path
long_query_time=3
log_output=FILE
```
