# FTP（文件传输协议，File Transfer Protocol）


### 基础

1. 提供交互式访问，允许客户指明文件的类型与格式（如指明是否使用 ASCII 码），并允许文件具有存取权限（如访问文件的用户必须经过授权，并输入有效口令）
2. 屏蔽各计算机系统的细节，适合在异构网络中任意计算机之间传送文件


### 工作原理

1. FTP 服务器监听 21 端口，客户端与 FTP 服务器建立 TCP 连接，用于传送 FTP 的相关控制命令，此 TCP 连接称为**命令通道**

* 主动模式（FTP 服务器主动连接）

1. 有数据要传输时，客户端通过命令通道告知 FTP 服务器来与自己的另一个临时端口建立 TCP 连接
2. FTP 服务器使用 20 端口与客户算建立 TCP 连接，称为**数据通道**，用来传送文件

* 被动模式（FTP 服务器被动连接）

1. 有数据要传输时，客户端通过命令通道告知 FTP 服务器开启某个临时端口被动等待 TCP 连接
2. 客户端使用临时端口与 FTP 服务器建立 TCP 连接，用来传送文件


### 注意⚠️

1. 控制连接在整个会话期间一直打开，用于传送 FTP 相关控制命令
