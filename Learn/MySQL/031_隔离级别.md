# 隔离级别



### 命令

```mysql
# 查看隔离级别
SELECT @@global.tx_isolation;

# 设置隔离级别（READ UNCOMMITTED，READ COMMITTED，REPEATABLE READ，SERIALIZABLE）
SET GLOBAL TRANSACTION ISOLATION LEVEL READ UNCOMMITTED;
```



### 并发存在的问题

* 脏读
  1. A修改数据还未提交，B可以读取


* 不可重复读
  1. A第一次读取数据，B修改数据并提交，A第二次读取数据，两次结果不一致


* 幻读
  1. A第一次读数据，B插入数据并提交，A第二次读数据（这种幻读MySQL已经解决）
  2. A第一次读数据，B插入数据并提交，A插入相同数据，报错提示主键重复
  3. A第一次读数据，B插入数据并提交，A更新数据，B刚刚插入的数据也被更新



### 隔离级别

1. 读未提交（）：别的事物可以读取到未提交改变
2. 读已提交（READ COMMITTED, RC）：只能读取已经提交的事物（解决脏读）
3. 可重复读（REPEATABLE READ, RR）：同一个事务先后查询结果相同（解决不可重复读）
4. 串行化：事务完全串行化执行，隔离级别最高，执行效率最低（解决幻读）
