# 隔离级别



### 命令

```mysql
# 查看隔离级别
SELECT @@global.tx_isolation;

# 设置隔离级别（READ UNCOMMITTED，READ COMMITTED，REPEATABLE READ，SERIALIZABLE）
SET GLOBAL TRANSACTION ISOLATION LEVEL READ UNCOMMITTED;
```



### 并发存在的问题

* 脏读

1. A修改数据还未提交，B可以读取


* 不可重复读

1. A第一次读取数据，B修改数据并提交，A第二次读取数据，两次结果不一致


* 幻读

1. A第一次读数据，B插入数据并提交，A第二次读数据（这种幻读MySQL已经解决）
2. A第一次读数据，B插入数据并提交，A插入相同数据，报错提示主键重复
3. A第一次读数据，B插入数据并提交，A更新数据，B刚刚插入的数据也被更新


### 隔离级别

隔离级别最高，执行效率最低

* 读未提交（READ UNCOMMITTED）

其他事物可以读取到当前事务未提交变更


* 读已提交（READ COMMITTED, RC）

其他事务只能读取到当前事务已经提交的变更（解决脏读）


* 可重复读（REPEATABLE READ, RR）

一个事务执行过程中看到的数据，总是跟这个事务在启动时看到的数据时一致的（解决不可重复读）


* 串行化（SERIALIZABLE）

写加写锁，读加读锁，当出现读写锁冲突时，后访问的事务必须等前一个事务执行完成后才能执行（解决幻读）
