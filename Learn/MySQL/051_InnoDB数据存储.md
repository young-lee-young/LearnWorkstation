# InnoDB存储引擎


### 表空间（tablespace）

表空间指的是数据表在硬盘上的存储空间（ibd 文件）

默认情况下，所有表的数据都存储在共享表空间（所有表在一个 ibd 文件），每个表也可以放在独占表空间（每个表一个 ibd 文件）


### 段（Segment）

* 段

Leaf node segment：叶子节点段，数据段

Non-Leaf node segment：非叶子结点段，索引段

Rollback segment：回滚段


### 区（Extend）

每个区有 64 个 Page，大小为 1MB（16 KB * 64）

一次从磁盘申请 4 - 5 个 区，避免系统开销、区在磁盘上碎片化


### 页（Page）

B+ 树的一个节点，是 InnoDB 中磁盘读写的最小逻辑单位，默认 16 KB

* 为什么页不能太大

磁盘读写压力（有可能取出很多数据，但只需要一条）

页过大，需要在内存中按链表遍历数据，速度慢

* 为什么页不能过小

机械盘每个块大小为 512B，SSD 每个块为 4KB，页太小会导致磁盘浪费
