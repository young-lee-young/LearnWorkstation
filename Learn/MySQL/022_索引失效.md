### 索引选择

* 原理

MySQL 在选取索引时，会参考索引的基数（Cardinality），基数是 MySQL 估算的，反映这个字段有多少种取值

基数计算：选取几个页算出取值的平均值，再乘以页数

* 强制使用索引

使用 force index 强制使用某个索引

* 重新统计索引信息

使用 analyze table 重新统计索引信息


### 索引失效

* 原因

1. 要查询的数据比例很大时
2. SQL使用了表达式、函数、模糊匹配（%%）、正则表达式
3. 隐式转换（如字符串列使用数字类型做查询条件）
4. NOT IN不走索引
5. IN，如果是单个条件走索引，多个条件不走索引
6. 联合索引没有满足最左匹配原则


### 索引排查

```mysql
EXPLAIN SQL语句; 
```
